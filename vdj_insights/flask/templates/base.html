<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" as="style" onload="this.rel='stylesheet'">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sidebar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <title>{% block title %}Full Report{% endblock %}</title>
    <script>
        (function() {
            var minimized = localStorage.getItem('sidebarMinimized');
            if (minimized === 'true') {
                document.documentElement.classList.add('sidebar-minimized');
            }
        })();
    </script>
    {% block extra_css %}{% endblock %}
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-container">
            <button class="toggle-btn" id="toggle-btn">
                <i class="fa-solid fa-bars"></i>
            </button>
            <img src="{{ url_for('static', filename='images/BPRC_logo.png') }}" alt="logo" class="logo">
        </div>
        <div class="sidebar-content">
            <ul class="sidebar-menu">
                <li title="Home">
                    <a href="{{ url_for('home') }}">
                        <i class="fas fa-home"></i>
                        <span class="link-text">Home</span>
                    </a>
                </li>
                <li title="Report">
                    <a href="{{ url_for('report') }}">
                        <i class="fa-solid fa-folder"></i>
                        <span class="link-text">Report</span>
                    </a>
                </li>
                <li title="IMGT report">
                    <a href="{{ url_for('imgt_report') }}">
                        <i class="fa-solid fa-globe"></i>
                        <span class="link-text">IMGT Report</span>
                    </a>
                </li>
                <!-- Redesigned Dropdown -->
                <li title="Library" class="sidebar-dropdown">
                    <a href="#" class="dropdown-toggle">
                        <i class="fa-solid fa-ellipsis-h"></i>
                        <span class="link-text">Library</span>
                        <i class="fa-solid fa-angle-down dropdown-icon"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li title="My library">
                            <a href="{{ url_for('view_library') }}">
                                <i class="fa-solid fa-dna"></i>
                                <span class="link-text">My Library</span>
                            </a>
                        </li>
                        <li title="Sequences list">
                            <a href="{{ url_for('sequence_library') }}">
                                <i class="fa-solid fa-search"></i>
                                <span class="link-text">Sequence list</span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <!-- "About" button styled as toggle button -->
        <div class="sidebar-container">
            <a href="{{ url_for('about') }}" class="toggle-btn">
                <i class="fa-solid fa-circle-question"></i>
                <span class="link-text">About</span>
            </a>
        </div>        
    </div>

    <!-- Main content -->
    <div id="main-content" class="container">
        {% block content %}{% endblock %}
    </div>
    
    <!-- Your JavaScript files -->
    <script src="{{ url_for('static', filename='js/loadSidebar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/general.js') }}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
